(function(e){function t(t){for(var a,s,o=t[0],c=t[1],u=t[2],v=0,m=[];v<o.length;v++)s=o[v],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},i=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},5298:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("NavBar"),r("router-view")],1)},i=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"flex align-center space-between"},[r("div",{staticClass:"flex align-center space-between"},[r("router-link",{attrs:{to:"/"}},[r("div",{staticClass:"logo"},[e._v("MOVIE-MAX.")])]),r("router-link",{attrs:{to:"/"}},[r("span",[e._v("Home")])])],1),r("div",{staticClass:"flex align-center space-between"},[r("router-link",{attrs:{to:"/movie"}},[e.user?r("span",[e._v("Add movies")]):e._e()]),r("div",{staticClass:"flex align-center",on:{click:e.goToLogin}},[e.user?r("BIconPersonSquare",{staticClass:"login",attrs:{variant:"warning"}}):e._e(),e.user?e._e():r("span",[e._v("Admin Login")]),e.user?r("span",[e._v("Admin Logout")]):e._e()],1)],1)])},o=[],c=r("d4ec"),u=r("bee2"),l=r("262e"),v=r("2caf"),m=r("9ab4"),p=r("2fe1"),d=r("0759"),h=r("7386"),f=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(u["a"])(r,[{key:"goToLogin",value:function(){this.user?(sessionStorage.removeItem("user"),this.$store.dispatch({type:"logout"})):this.$router.push("/login")}},{key:"user",get:function(){return this.$store.getters.currUser}}]),r}(a["default"]);f=Object(m["a"])([Object(p["b"])({components:{BIcon:d["a"],BIconPersonSquare:h["jp"]}})],f);var g,b=f,y=b,w=r("2877"),k=Object(w["a"])(y,s,o,!1,null,null,null),x=k.exports,_=a["default"].extend({components:{NavBar:x}}),O=_,C=Object(w["a"])(O,n,i,!1,null,null,null),j=C.exports,S=r("8c4f"),T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"theater-cont flex align-center"},[e.show?r("section",{staticClass:"theater_items flex column"},[r("div",{staticClass:"theater_map",style:e.theaterStyle},[r("div",{staticClass:"flex align-center justify-center",style:e.screenStyle},[e._v("Screen")]),e._l(e.show.theater.seats,(function(t,a){return r("Chair",{key:a,attrs:{seat:t,numberOfTickets:e.numberOfTickets,selectedSeats:e.selectedSeats},on:{"set-selected-seats":e.updateSeats}})}))],2),e._m(0),r("div",{staticClass:"flex space-between grow"},[r("button",{staticClass:"btn_prev",on:{click:e.prev}},[e._v("Prev")]),r("button",{staticClass:"btn_next",attrs:{disabled:e.isFormValid},on:{click:e.next}},[e._v("Next")])])]):e._e()])},$=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"legend clean-list flex"},[r("li",[r("div",{staticClass:"chair"},[r("div",{staticClass:"inner-chair",staticStyle:{"background-color":"#008000"}})]),r("span",[e._v("Selected Seat")])]),r("li",[r("div",{staticClass:"chair"},[r("div",{staticClass:"inner-chair",staticStyle:{"background-color":"#FF0000"}})]),r("span",[e._v("Reserved Seat")])]),r("li",[r("div",{staticClass:"chair"},[r("div",{staticClass:"inner-chair",staticStyle:{"background-color":"#FFFFFF"}})]),r("span",[e._v("Empty Seat")])])])}],M=(r("99af"),r("4160"),r("159b"),r("96cf"),r("1da1")),N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chair",style:e.seatStyle,on:{click:e.selectSeat}},[r("div",{staticClass:"inner-chair",style:e.innrChairStyle})])},R=[],I=r("60a3");r("b0c0");(function(e){e[e["Available"]=0]="Available",e[e["Occupied"]=1]="Occupied",e[e["Selected"]=2]="Selected"})(g||(g={}));var E;(function(e){e[e["Empty"]=0]="Empty",e[e["Chair"]=1]="Chair",e[e["Screen"]=2]="Screen",e[e["CheckBox"]=3]="CheckBox",e[e["Number"]=4]="Number"})(E||(E={}));var P=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(u["a"])(r,[{key:"selectSeat",value:function(){if(this.seat.state===g.Available){if(this.selectedSeats>=this.numberOfTickets)return void alert("more tickets then you chose");this.seat.state=g.Selected,this.setSelectedSeats(1)}else this.seat.state===g.Selected&&(this.seat.state=g.Available,this.setSelectedSeats(-1))}},{key:"setSelectedSeats",value:function(e){return e}},{key:"seatStyle",get:function(){return{"grid-column":"".concat(this.seat.point.x+1),"grid-row":"".concat(this.seat.point.y)}}},{key:"innrChairStyle",get:function(){var e;switch(this.seat.state){case g.Available:e="#ffffff";break;case g.Selected:e="#008000";break;case g.Occupied:e="#FF0000";break;default:e="#ffffff";break}return{"background-color":e}}}]),r}(a["default"]);Object(m["a"])([Object(I["b"])()],P.prototype,"seat",void 0),Object(m["a"])([Object(I["b"])()],P.prototype,"numberOfTickets",void 0),Object(m["a"])([Object(I["b"])()],P.prototype,"selectedSeats",void 0),Object(m["a"])([Object(I["a"])()],P.prototype,"setSelectedSeats",null),P=Object(m["a"])([Object(p["b"])({name:"Chair"})],P);var D=P,F=D,Y=Object(w["a"])(F,N,R,!1,null,null,null),q=Y.exports,B=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.selectedSeats=0,e}return Object(u["a"])(r,[{key:"updateSeats",value:function(e){this.selectedSeats+=e}},{key:"created",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.numberOfTickets=+this.$route.query.numberOfTickets;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"next",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"saveShow",show:this.show});case 2:this.$router.push({path:"ticketspay",query:{movieId:this.show.movieId}});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.show.theater.seats.forEach((function(e){e.state===g.Selected&&(e.state=g.Available)}))}},{key:"prev",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"saveShow",show:this.show});case 2:this.$router.push({path:"ticketInfo",query:{movieId:this.show.movieId}});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"show",get:function(){return this.$store.getters.currShow}},{key:"theaterStyle",get:function(){return{"grid-template-columns":"repeat(".concat(this.show.theater.width,",20px"),"grid-template-rows":"repeat(".concat(this.show.theater.height,",20px")}}},{key:"isFormValid",get:function(){return!(this.numberOfTickets===this.selectedSeats)}},{key:"screenStyle",get:function(){return{"background-color":"red",color:"white","grid-column":"".concat(this.show.theater.screen.point.x+1," / span ").concat(this.show.theater.screen.width),"grid-row":"".concat(this.show.theater.screen.point.y," / span ").concat(this.show.theater.screen.height)}}}]),r}(a["default"]);B=Object(m["a"])([Object(p["b"])({components:{Chair:q}})],B);var A=B,V=A,L=Object(w["a"])(V,T,$,!1,null,null,null),U=L.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("div",e._b({},"div",e.redirect(),!1)):r("div",{staticClass:"login-root flex align-center justify-center"},[r("div",{staticClass:"login-cont flex align-center justify-center"},[r("div",{staticClass:"login"},[r("h3",[e._v("Sign In")]),r("div",{staticClass:"form-group"},[r("label",[e._v("Email address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("button",{staticClass:"btn btn-dark btn-lg btn-block",on:{click:e.login}},[e._v("Sign In")])])])])},z=[],H=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.email="shmely@gmail.com",e.password="123456",e}return Object(u["a"])(r,[{key:"redirect",value:function(){this.$router.push("/")}},{key:"login",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"login",email:this.email,password:this.password});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"user",get:function(){return this.$store.getters.currUser}}]),r}(a["default"]);H=Object(m["a"])([Object(p["b"])({components:{}})],H);var K=H,G=K,W=Object(w["a"])(G,J,z,!1,null,null,null),X=W.exports,Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"home flex column justfiy-center align-center"},[r("h1",[e._v("Current Movies")]),r("div",{staticClass:"movies"},e._l(e.movies,(function(e){return r("MoviePriview",{key:e._id,attrs:{movie:e}})})),1)])},Z=[],ee=r("d7b1"),te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.movie?r("div",{staticClass:"movie flex column"},[r("router-link",{attrs:{to:{path:"/moviedetails/"+e.movie._id}}},[r("img",{attrs:{src:e.movie.img}})]),r("div",{staticClass:"rate flex"},[r("b-icon-star-fill",{attrs:{variant:"warning"}}),r("p",[e._v(e._s(e.movie.rate))])],1),r("button",{staticClass:"order-tickets",on:{click:e.onOrderTickets}},[e._v("ORDER TICKETS")]),e.user?r("button",{staticClass:"edit-user",on:{click:e.editMovie}},[e._v("Edit Movie")]):e._e()],1):e._e()},re=[],ae=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(u["a"])(r,[{key:"editMovie",value:function(){this.$router.push({path:"movie/".concat(this.movie._id)})}},{key:"onOrderTickets",value:function(){this.$router.push({path:"ticketInfo",query:{movieId:this.movie._id}})}},{key:"user",get:function(){return this.$store.getters.currUser}}]),r}(a["default"]);Object(m["a"])([Object(I["b"])()],ae.prototype,"movie",void 0),ae=Object(m["a"])([Object(p["b"])({components:{BIcon:d["a"],BIconStarFill:h["rr"]}})],ae);var ne=ae,ie=ne,se=Object(w["a"])(ie,te,re,!1,null,null,null),oe=se.exports;a["default"].use(ee["a"]);var ce=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){return Object(c["a"])(this,r),t.call(this)}return Object(u["a"])(r,[{key:"created",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"getMovies"});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"movies",get:function(){var e=this.$store.getters.movies;return e}}]),r}(a["default"]);ce=Object(m["a"])([Object(p["b"])({components:{MoviePriview:oe}})],ce);var ue=ce,le=ue,ve=Object(w["a"])(le,Q,Z,!1,null,null,null),me=ve.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.movie?r("section",{staticClass:"movie-details flex column"},[r("div",{staticClass:"title"},[e._v(e._s(e.movie.title))]),r("div",{staticClass:"content flex"},[r("div",[r("div",{staticClass:"img-cont"},[r("img",{attrs:{src:e.movie.img}})])]),r("div",{staticClass:"details flex wrap"},[r("b-icon-clock",{attrs:{variant:"danger"}}),r("span",[e._v(e._s(e.movie.length))]),r("b-icon-star-fill",{staticClass:"icon",attrs:{variant:"warning"}}),r("span",[e._v(e._s(e.movie.rate))]),r("span",[e._v("Year:")]),r("span",[e._v(e._s(e.movie.year))])],1),r("iframe",{attrs:{width:"700",height:"400",src:e.movie.trailer}}),r("div",{staticClass:"flex"},[r("span",[e._v(e._s(e.movie.desc))])]),r("button",{staticClass:"order-tickets"},[e._v("ORDER TICKETS")])])]):e._e()},de=[],he=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(u["a"])(r,[{key:"created",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.next=3,this.$store.dispatch({type:"getMovie",movieId:t});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"movie",get:function(){return this.$store.getters.currMovie}}]),r}(a["default"]);he=Object(m["a"])([Object(p["b"])({components:{BIcon:d["a"],BIconClock:h["Sg"]}})],he);var fe=he,ge=fe,be=Object(w["a"])(ge,pe,de,!1,null,null,null),ye=be.exports,we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ticket-info-cont flex align-center"},[r("div",{staticClass:"ticket-info-form flex justify-center align-center"},[e.selectedMovie?r("form",[r("h3",[e._v("Tickets Info")]),r("div",{staticClass:"form-group"},[r("label",[e._v("Movie Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMovie.title,expression:"selectedMovie.title"}],staticClass:"form-control form-control-lg",attrs:{type:"text",readonly:""},domProps:{value:e.selectedMovie.title},on:{input:function(t){t.target.composing||e.$set(e.selectedMovie,"title",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"example-datepicker"}},[e._v("Select Movie Date")]),r("b-form-datepicker",{staticClass:"mb-2",attrs:{required:"",id:"example-datepicker"},on:{change:e.onTimeDateChanged},model:{value:e.movieDate,callback:function(t){e.movieDate=t},expression:"movieDate"}})],1),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"example-datepicker"}},[e._v("Select Movie Time")]),r("b-form-select",{attrs:{required:"",options:e.timeOptions},on:{change:e.onTimeDateChanged},model:{value:e.timeSelected,callback:function(t){e.timeSelected=t},expression:"timeSelected"}})],1),r("div",{staticClass:"form-group"},[r("label",[e._v("Full Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.fullName,expression:"fullName"}],staticClass:"form-control form-control-lg",attrs:{type:"text",required:""},domProps:{value:e.fullName},on:{input:function(t){t.target.composing||(e.fullName=t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Email address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Number of Tickets")]),r("b-form-input",{staticClass:"form-control form-control-lg",attrs:{id:"test",type:"number",required:"",min:"0",max:e.availableTickets},model:{value:e.numOfTickets,callback:function(t){e.numOfTickets=t},expression:"numOfTickets"}}),r("strong",{staticStyle:{color:"red"},attrs:{hidden:e.isTicketsValid}},[e._v("please choose number of tickets between 1 to "+e._s(e.availableTickets))]),e.show?r("div",{staticClass:"form-group"},[r("label",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v("show:")]),r("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.show._id,expression:"show._id"}],staticClass:"form-control form-control-lg",attrs:{type:"text",readonly:""},domProps:{value:e.show._id},on:{input:function(t){t.target.composing||e.$set(e.show,"_id",t.target.value)}}})]):e._e()],1),r("div",{staticClass:"flex space-between"},[r("button",{staticClass:"btn_prev",on:{click:e.prev}},[e._v("Prev")]),r("button",{staticClass:"btn_next",attrs:{disabled:e.isFormValid},on:{click:e.next}},[e._v("Next")])])]):e._e()])])},ke=[],xe=(r("4de4"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.fullName="",e.email="",e.availableTickets=1,e.movieDate=new Date,e.timeOptions=["10:00","15:00","17:00","19:00","21:00","23:00"],e.timeSelected="",e.numOfTickets=1,e}return Object(u["a"])(r,[{key:"created",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.movieId,e.next=3,this.$store.dispatch({type:"getMovie",movieId:t});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onTimeDateChanged",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.timeSelected||!this.movieDate){e.next=9;break}return e.prev=1,e.next=4,this.$store.dispatch({type:"getShow",theaterId:this.selectedMovie.theaterId,movieId:this.selectedMovie._id,date:this.movieDate,time:this.timeSelected});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),alert(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"next",value:function(){this.$router.push({path:"selectseats",query:{numberOfTickets:this.numOfTickets.toString()}})}},{key:"prev",value:function(){this.$router.push({path:"/"})}},{key:"show",get:function(){var e=this.$store.getters.currShow;return e&&(e.theater.seats.forEach((function(e){e.state===g.Selected&&(e.state=g.Available)})),this.availableTickets=e.theater.seats.filter((function(e){return e.state===g.Available})).length),e}},{key:"isFormValid",get:function(){if(this.fullName.length<3)return!0;if(this.numOfTickets>=this.availableTickets||this.numOfTickets<=0)return!0;var e=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$");return!e.test(this.email)||(!this.show||(this.timeSelected.length<4||this.movieDate.setHours(0,0,0,0)<(new Date).setHours(0,0,0,0)))}},{key:"isTicketsValid",get:function(){return this.numOfTickets<=this.availableTickets&&this.numOfTickets>0}},{key:"selectedMovie",get:function(){return this.$store.getters.currMovie}}]),r}(a["default"]));xe=Object(m["a"])([Object(p["b"])({components:{}})],xe);var _e=xe,Oe=_e,Ce=Object(w["a"])(Oe,we,ke,!1,null,null,null),je=Ce.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.movie&&e.show?r("div",{staticClass:"cont flex align-center space-evenly"},[r("div",{staticClass:"payment-cont flex column align-center justify-center"},[r("div",{staticClass:"col-50"},[r("h3",[e._v("Payment")]),r("label",{attrs:{for:"fname"}},[e._v("Accepted Cards")]),e._m(0),r("label",{attrs:{for:"cname"}},[e._v("Name on Card")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.creditCardOwner,expression:"creditCardOwner"}],attrs:{type:"text",id:"cname",name:"cardname",placeholder:"John More Doe"},domProps:{value:e.creditCardOwner},on:{input:function(t){t.target.composing||(e.creditCardOwner=t.target.value)}}}),r("label",{attrs:{for:"ccnum"}},[e._v("Credit card number")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.cardNumber,expression:"cardNumber"}],attrs:{type:"text",id:"ccnum",name:"cardnumber",placeholder:"1111-2222-3333-4444"},domProps:{value:e.cardNumber},on:{input:[function(t){t.target.composing||(e.cardNumber=t.target.value)},e.formatCardNumber]}}),r("label",{attrs:{for:"expmonth"}},[e._v("Exp Month")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.expMonth,expression:"expMonth"}],attrs:{type:"text",id:"expmonth",name:"expmonth",placeholder:"03"},domProps:{value:e.expMonth},on:{input:[function(t){t.target.composing||(e.expMonth=t.target.value)},e.formatExpMonth]}}),r("div",{staticClass:"row"},[r("div",{staticClass:"col-50"},[r("label",{attrs:{for:"expyear"}},[e._v("Exp Year")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.expYear,expression:"expYear"}],attrs:{type:"text",id:"expyear",name:"expyear",placeholder:"2018"},domProps:{value:e.expYear},on:{input:[function(t){t.target.composing||(e.expYear=t.target.value)},e.formatExpYear]}})]),r("div",{staticClass:"col-50"},[r("label",{attrs:{for:"cvv"}},[e._v("CVV")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.cvv,expression:"cvv"}],attrs:{type:"text",id:"cvv",name:"cvv",placeholder:"352"},domProps:{value:e.cvv},on:{input:[function(t){t.target.composing||(e.cvv=t.target.value)},e.formatCVV]}})])])]),r("button",{staticClass:"btn",attrs:{disabled:e.validateForm},on:{click:e.next}},[e._v("Checkout")])]),r("div",{staticClass:"cart"},[r("div",{staticClass:"col-25"},[r("h3",[e._v("Order Details")]),r("p",[e._v(e._s(e.movie.title))]),r("p",[e._v("Date: "+e._s(e.show.date))]),r("p",[e._v("Time: "+e._s(e.show.time))]),r("p",[e._v("number of tickets: "+e._s(e.numOfTickets))]),r("h4",[e._v("Tickets Details")]),e._l(e.seats,(function(t,a){return r("p",{key:a},[r("a",{attrs:{href:"#"}},[e._v(e._s("Line: "+t.location.y+" Chair: "+t.location.x))]),r("span",{staticClass:"price"},[e._v("$15")])])})),e._v("Total "),r("span",{staticClass:"price",staticStyle:{color:"black"}},[r("b",[e._v(e._s(15*e.seats.length)+"$")])])],2)])]):e._e()},Te=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"icon-container"},[r("i",{staticClass:"cards fa fa-cc-visa",staticStyle:{color:"navy"}}),r("i",{staticClass:"cards fa fa-cc-amex",staticStyle:{color:"blue"}}),r("i",{staticClass:"cards fa fa-cc-mastercard",staticStyle:{color:"red"}}),r("i",{staticClass:"cards fa fa-cc-discover",staticStyle:{color:"orange"}})])}],$e=(r("a9e3"),r("5319"),function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.creditCardOwner="",e.cardNumber="",e.expMonth="",e.expYear="",e.cvv="",e}return Object(u["a"])(r,[{key:"formatCardNumber",value:function(e){"deleteContentBackward"===e.inputType||4!==this.cardNumber.length&&9!==this.cardNumber.length&&14!==this.cardNumber.length?("deleteContentBackward"!==e.inputType&&isNaN(e.data)||this.cardNumber.length>19)&&(this.cardNumber=this.cardNumber.replace(/.$/,"")):this.cardNumber+="-"}},{key:"formatExpMonth",value:function(e){("deleteContentBackward"!==e.inputType&&isNaN(e.data)||this.expMonth.length>2)&&(this.expMonth=this.expMonth.replace(/.$/,""))}},{key:"formatExpYear",value:function(e){("deleteContentBackward"!==e.inputType&&isNaN(e.data)||this.expYear.length>4)&&(this.expYear=this.expYear.replace(/.$/,""))}},{key:"formatCVV",value:function(e){("deleteContentBackward"!==e.inputType&&isNaN(e.data)||this.cvv.length>3)&&(this.cvv=this.cvv.replace(e.data.toString(),""))}},{key:"next",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={ownerName:this.creditCardOwner,carNum:this.cardNumber,expMonth:this.expMonth,expYear:this.expYear,cvv:this.cvv},e.next=3,this.$store.dispatch({type:"savePayment",payment:t});case 3:return e.next=5,this.$store.getters.currPayment;case 5:return r=e.sent,a=[],this.show.theater.seats.forEach((function(e){if(e.state===g.Selected){var t={movieName:n.movie.title,seat:e,time:n.show.time,date:n.show.date,hall:n.show.theater.name,paymentId:r._id};e.state=g.Occupied,a.push(t)}})),e.next=10,this.$store.dispatch({type:"saveShow",show:this.show});case 10:return e.next=12,this.$store.dispatch({type:"saveTickets",tickets:a});case 12:this.$router.push({path:"thankyou"});case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"prev",value:function(){}},{key:"numOfTickets",get:function(){return this.seats.length}},{key:"seats",get:function(){return this.show.theater.seats.filter((function(e){return e.state===g.Selected}))}},{key:"show",get:function(){return this.$store.getters.currShow}},{key:"movie",get:function(){return this.$store.getters.currMovie}},{key:"isFormValid",get:function(){return!1}},{key:"validateForm",get:function(){if(""===this.creditCardOwner||""===this.cardNumber||""===this.cvv||""===this.expYear||""===this.expMonth)return!0;if(Number(this.expMonth)>12||Number(this.expMonth)<1)return!0;var e=new Date;return(Number(this.expYear)<e.getFullYear()||Number(this.expYear)>e.getFullYear()+6)&&(this.cardNumber.length<19||this.cvv.length<3||this.expYear.length<4||this.expMonth.length<2)}}]),r}(a["default"]));$e=Object(m["a"])([Object(p["b"])({components:{}})],$e);var Me=$e,Ne=Me,Re=Object(w["a"])(Ne,Se,Te,!1,null,null,null),Ie=Re.exports,Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.tickets?r("section",{ref:"tickets",staticClass:"thank-you flex column align-center"},e._l(e.tickets,(function(e,t){return r("Ticket",{key:t,attrs:{ticket:e}})})),1):e._e()},Pe=[],De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cardWrap"},[r("div",{staticClass:"card cardLeft"},[e._m(0),r("div",{staticClass:"name"},[r("p",[e._v(e._s(e.ticket.movieName))]),e._m(1)]),r("div",{staticClass:"name"},[r("p",[e._v(e._s(e.ticket.date))]),e._m(2)]),r("div",{staticClass:"flex space-between"},[r("div",{staticClass:"name"},[r("p",[e._v(e._s(e.seat))]),e._m(3)]),r("div",{staticClass:"name"},[r("p",[e._v(e._s(e.ticket.time))]),e._m(4)]),r("div",{staticClass:"name"},[r("p",[e._v(e._s(e.ticket.hall))]),e._m(5)])])]),r("div",{staticClass:"card cardRight"},[r("div",{staticClass:"eye"}),r("div",{staticClass:"right"},[r("p",[e._v(e._s(e.seat))]),e._m(6)]),r("div",{staticClass:"barcode"})])])},Fe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v(" Movie "),r("span",[e._v("Max")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("span",[e._v("movie")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("span",[e._v("date")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("span",[e._v("seat")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("span",[e._v("time")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("span",[e._v("hall")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("span",[e._v("seat")])])}],Ye=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(u["a"])(r,[{key:"seat",get:function(){return"Line: ".concat(this.ticket.seat.location.y," Chair: ").concat(this.ticket.seat.location.x)}}]),r}(a["default"]);Object(m["a"])([Object(I["b"])()],Ye.prototype,"ticket",void 0),Ye=Object(m["a"])([Object(p["b"])({components:{}})],Ye);var qe=Ye,Be=qe,Ae=Object(w["a"])(Be,De,Fe,!1,null,null,null),Ve=Ae.exports,Le=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(u["a"])(r,[{key:"print",value:function(){}},{key:"tickets",get:function(){var e=this.$store.getters.tickets;return e}}]),r}(a["default"]);Le=Object(m["a"])([Object(p["b"])({components:{Ticket:Ve}})],Le);var Ue=Le,Je=Ue,ze=Object(w["a"])(Je,Ee,Pe,!1,null,null,null),He=ze.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-edit-movie"},[r("form",{staticClass:"form-horizontal"},[r("fieldset",[r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"id"}},[e._v("Id")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie._id,expression:"movie._id"}],staticClass:"form-control input-md",attrs:{id:"id",name:"id",type:"text",readonly:""},domProps:{value:e.movie._id},on:{input:function(t){t.target.composing||e.$set(e.movie,"_id",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"Title"}},[e._v("Title")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.title,expression:"movie.title"}],staticClass:"form-control input-md",attrs:{id:"Title",name:"Title",type:"text",required:""},domProps:{value:e.movie.title},on:{input:function(t){t.target.composing||e.$set(e.movie,"title",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"Description"}},[e._v("Description")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.movie.desc,expression:"movie.desc"}],staticClass:"form-control",attrs:{id:"Description",name:"Description"},domProps:{value:e.movie.desc},on:{input:function(t){t.target.composing||e.$set(e.movie,"desc",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"img"}},[e._v("Image Link")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.img,expression:"movie.img"}],staticClass:"form-control input-md",attrs:{id:"img",name:"img",type:"text"},domProps:{value:e.movie.img},on:{input:function(t){t.target.composing||e.$set(e.movie,"img",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"trailer"}},[e._v("Trailer Link")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.trailer,expression:"movie.trailer"}],staticClass:"form-control input-md",attrs:{id:"trailer",name:"trailer",type:"text"},domProps:{value:e.movie.trailer},on:{input:function(t){t.target.composing||e.$set(e.movie,"trailer",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"year"}},[e._v("Movie Year")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.year,expression:"movie.year"}],staticClass:"form-control input-md",attrs:{id:"year",name:"year",type:"text",required:""},domProps:{value:e.movie.year},on:{input:function(t){t.target.composing||e.$set(e.movie,"year",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"year"}},[e._v("Rate")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.rate,expression:"movie.rate"}],staticClass:"form-control input-md",attrs:{id:"rate",name:"rate",type:"text",required:""},domProps:{value:e.movie.rate},on:{input:function(t){t.target.composing||e.$set(e.movie,"rate",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"length"}},[e._v("Movie Length")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.length,expression:"movie.length"}],staticClass:"form-control input-md",attrs:{id:"length",name:"length",type:"text"},domProps:{value:e.movie.length},on:{input:function(t){t.target.composing||e.$set(e.movie,"length",t.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-6 offset-md-3 control-label",attrs:{for:"Theater"}},[e._v("Theater")]),r("div",{staticClass:"col-md-6 offset-md-3"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.movie.theaterId,expression:"movie.theaterId"}],staticClass:"form-control",attrs:{id:"Theater",name:"Theater"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.movie,"theaterId",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("Not Selcted")]),e._l(e.theaters,(function(t){return r("option",{key:t.id,domProps:{value:t._id}},[e._v(e._s(t.name))])}))],2)])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"col-md-6 offset-md-3"},[r("button",{staticClass:"btn btn-primary",attrs:{id:"singlebutton",name:"singlebutton"},on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Save")])])])])])])},Ge=[],We=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,[{key:"saveToStorage",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"loadFromStorage",value:function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}},{key:"removeFromStorage",value:function(e){localStorage.removeItem(e)}}]),e}(),Xe=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,[{key:"makeId",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}}]),e}(),Qe=r("bc3a"),Ze=r.n(Qe),et="/api/",tt=Ze.a.create({withCredentials:!0}),rt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,[{key:"get",value:function(e,t){return this.ajax(e,"GET",t)}},{key:"post",value:function(e,t){return this.ajax(e,"POST",t)}},{key:"put",value:function(e,t){return this.ajax(e,"PUT",t)}},{key:"delete",value:function(e,t){return this.ajax(e,"DELETE",t)}},{key:"ajax",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t,r,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt({url:"".concat(et).concat(t),method:r,data:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.dir(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r,a){return e.apply(this,arguments)}return t}()}]),e}(),at=function(){function e(){Object(c["a"])(this,e),this.storageService=new We,this.utilsService=new Xe,this.httpService=new rt}return Object(u["a"])(e,[{key:"getShow",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t,r,a,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.get("show?theaterId=".concat(t,"&movieId=").concat(r,"&date=").concat(a.toDateString(),"&time=").concat(n),null);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)})));function t(t,r,a,n){return e.apply(this,arguments)}return t}()},{key:"saveMovie",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.post("movie",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTheaters",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.httpService.get("theater",null),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveShow",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.httpService.post("show",t),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getMovies",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.httpService.get("movie",null),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMovie",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.httpService.get("movie/".concat(t),null),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getEmptyMovie",value:function(){var e={title:"",desc:"",img:"",trailer:"",length:""};return e}},{key:"login",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.post("auth/login",{email:t,password:r});case 2:return a=e.sent,e.abrupt("return",this.handleLogin(a));case 4:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"saveTickets",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.httpService.post("ticket",t),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleLogin",value:function(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}}]),e}(),nt=function(e){Object(l["a"])(r,e);var t=Object(v["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.theaterService=new at,e}return Object(u["a"])(r,[{key:"created",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.params.id,!t){e.next=4;break}return e.next=4,this.$store.dispatch({type:"getMovie",movieId:t});case 4:return e.next=6,this.$store.dispatch({type:"getTheaters"});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"saveMovie",movie:this.movie});case 3:this.$router.push({path:"/"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),alert(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"movie",get:function(){return this.$route.params.id?this.$store.getters.currMovie:this.theaterService.getEmptyMovie()}},{key:"theaters",get:function(){return this.$store.getters.theaters}}]),r}(a["default"]);nt=Object(m["a"])([Object(p["b"])({components:{BIcon:d["a"],BIconClock:h["Sg"]}})],nt);var it=nt,st=it,ot=Object(w["a"])(st,Ke,Ge,!1,null,null,null),ct=ot.exports;function ut(e,t,r){var a=!1;a=!!sessionStorage.getItem("user"),a?r():r("/login")}a["default"].use(S["a"]);var lt=[{path:"/movie/:id?",name:"Movie",beforeEnter:ut,component:ct},{path:"/moviedetails/:id",name:"MovieDetails",component:ye},{path:"/",name:"Home",component:me},{path:"/login",name:"login",component:X},{path:"/ticketInfo",name:"ticketInfo",component:je,props:function(){return{query:"movieId"}}},{path:"/selectseats",name:"Select Seats",component:U,props:function(){return{query:"numberOfTickets"}}},{path:"/ticketspay",name:"Tickets Pay",component:Ie},{path:"/thankYou",name:"thank you",component:He}],vt=new S["a"]({mode:"history",base:"/",routes:lt}),mt=vt,pt=r("2f62"),dt=new at;a["default"].use(pt["a"]);var ht=new pt["a"].Store({state:{currUser:sessionStorage.getItem("user"),movies:[],currMovie:null,theaters:[],currShow:null,currCustomer:null,currPayment:null,tickets:[]},getters:{currShow:function(e){return e.currShow},movies:function(e){return e.movies},currMovie:function(e){return e.currMovie},currUser:function(e){return e.currUser},currCustomer:function(e){return e.currCustomer},currPayment:function(e){return e.currPayment},tickets:function(e){return e.tickets},theaters:function(e){return e.theaters}},mutations:{saveShow:function(e,t){var r=t.show;e.currShow=r},getMovies:function(e,t){var r=t.movies;e.movies=r},setMovie:function(e,t){var r=t.movie;e.currMovie=r},setUser:function(e,t){var r=t.user;e.currUser=r},setCustomer:function(e,t){var r=t.customer;e.currCustomer=r},setPayment:function(e,t){e.currPayment=t},setTickets:function(e,t){var r=t.tickets;e.tickets=r},getTheaters:function(e,t){var r=t.theaters;e.theaters=r}},actions:{getShow:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.theaterId,i=t.movieId,s=t.date,o=t.time,r.next=4,dt.getShow(n,i,s,o);case 4:return c=r.sent,a({type:"saveShow",show:c}),r.abrupt("return",c);case 7:case"end":return r.stop()}}),r)})))()},getMovie:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.movieId,r.next=4,dt.getMovie(n);case 4:return i=r.sent,a({type:"setMovie",movie:i}),r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()},saveShow:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.show,r.next=4,dt.saveShow(n);case 4:i=r.sent,a({type:"saveShow",show:i});case 6:case"end":return r.stop()}}),r)})))()},getMovies:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,dt.getMovies();case 3:a=t.sent,r({type:"getMovies",movies:a});case 5:case"end":return t.stop()}}),t)})))()},login:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.email,i=t.password,r.next=4,dt.login(n,i);case 4:s=r.sent,a({type:"setUser",user:s});case 6:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,r({type:"setUser",user:null});case 2:case"end":return t.stop()}}),t)})))()},saveCustomer:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=e.commit,n=t.email,i=t.name,s={name:i,email:n},a({type:"setCustomer",cust:s});case 4:case"end":return r.stop()}}),r)})))()},savePayment:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=e.commit,n=t.payment,n._id="temp id",a({type:"setPayment",payment:n});case 4:case"end":return r.stop()}}),r)})))()},saveTickets:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.tickets,r.next=4,dt.saveTickets(n);case 4:i=r.sent,a({type:"setTickets",tickets:i});case 6:case"end":return r.stop()}}),r)})))()},getTheaters:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,dt.getTheaters();case 3:a=t.sent,r({type:"getTheaters",theaters:a});case 5:case"end":return t.stop()}}),t)})))()},saveMovie:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.movie,r.next=4,dt.saveMovie(n);case 4:i=r.sent,a({type:"setMovie",savedMovie:i});case 6:case"end":return r.stop()}}),r)})))()}},modules:{}}),ft=(r("5298"),r("5f5b")),gt=r("b1e0"),bt=(r("f9e3"),r("2dd8"),r("ecee")),yt=r("c074");r("1f54");bt["a"].add(yt["a"]),a["default"].component("VueFontawesome",r("150d").default),a["default"].use(ft["a"]),a["default"].use(gt["a"]),a["default"].config.productionTip=!1,new a["default"]({router:mt,store:ht,render:function(e){return e(j)}}).$mount("#app")}});
//# sourceMappingURL=app.eafd00d8.js.map